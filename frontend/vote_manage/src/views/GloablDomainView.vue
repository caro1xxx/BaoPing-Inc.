<template>
  <div class="home">
    <Search />
    <div class="home_title">全局域名</div>
    <div class="addrealm">
      <svg @click="addrealm()" t="1677473562522" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2330" width="20" height="20">
      <path d="M512 992C246.912 992 32 777.088 32 512 32 246.912 246.912 32 512 32c265.088 0 480 214.912 480 480 0 265.088-214.912 480-480 480z m0-64c229.76 0 416-186.24 416-416S741.76 96 512 96 96 282.24 96 512s186.24 416 416 416z" fill="#2460E5" p-id="2331"></path>
      <path d="M256 544a32 32 0 0 1 0-64h512a32 32 0 0 1 0 64H256z" fill="#2460E5" p-id="2332"></path>
      <path d="M480 256a32 32 0 0 1 64 0v512a32 32 0 0 1-64 0V256z" fill="#2460E5" p-id="2333"></path></svg>
    </div>
    <div class="realmlist">
      <div class="grid" v-for="item in realmdata" :key="item">
        <div>{{ item.id }}</div>
        <div class="span-col-2 realmlist_item">
          <svg t="1677475912109" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7543" data-spm-anchor-id="a313x.7781069.0.i33" width="20" height="20">
          <path d="M607.934444 417.856853c-6.179746-6.1777-12.766768-11.746532-19.554358-16.910135l-0.01228 0.011256c-6.986111-6.719028-16.47216-10.857279-26.930349-10.857279-21.464871 0-38.864146 17.400299-38.864146 38.864146 0 9.497305 3.411703 18.196431 9.071609 24.947182l-0.001023 0c0.001023 0.001023 0.00307 0.00307 0.005117 0.004093 2.718925 3.242857 5.953595 6.03853 9.585309 8.251941 3.664459 3.021823 7.261381 5.997598 10.624988 9.361205l3.203972 3.204995c40.279379 40.229237 28.254507 109.539812-12.024871 149.820214L371.157763 796.383956c-40.278355 40.229237-105.761766 40.229237-146.042167 0l-3.229554-3.231601c-40.281425-40.278355-40.281425-105.809861 0-145.991002l75.93546-75.909877c9.742898-7.733125 15.997346-19.668968 15.997346-33.072233 0-23.312962-18.898419-42.211381-42.211381-42.211381-8.797363 0-16.963347 2.693342-23.725354 7.297197-0.021489-0.045025-0.044002-0.088004-0.066515-0.134053l-0.809435 0.757247c-2.989077 2.148943-5.691629 4.669346-8.025791 7.510044l-78.913281 73.841775c-74.178443 74.229608-74.178443 195.632609 0 269.758863l3.203972 3.202948c74.178443 74.127278 195.529255 74.127278 269.707698 0l171.829484-171.880649c74.076112-74.17435 80.357166-191.184297 6.282077-265.311575L607.934444 417.856853z" fill="#000000" p-id="7544">
          </path><path d="M855.61957 165.804257l-3.203972-3.203972c-74.17742-74.178443-195.528232-74.178443-269.706675 0L410.87944 334.479911c-74.178443 74.178443-78.263481 181.296089-4.085038 255.522628l3.152806 3.104711c3.368724 3.367701 6.865361 6.54302 10.434653 9.588379 2.583848 2.885723 5.618974 5.355985 8.992815 7.309476 0.025583 0.020466 0.052189 0.041956 0.077771 0.062422l0.011256-0.010233c5.377474 3.092431 11.608386 4.870938 18.257829 4.870938 20.263509 0 36.68962-16.428158 36.68962-36.68962 0-5.719258-1.309832-11.132548-3.645017-15.95846l0 0c-4.850471-10.891048-13.930267-17.521049-20.210297-23.802102l-3.15383-3.102664c-40.278355-40.278355-24.982998-98.79612 15.295358-139.074476l171.930791-171.830507c40.179095-40.280402 105.685018-40.280402 145.965419 0l3.206018 3.152806c40.279379 40.281425 40.279379 105.838513 0 146.06775l-75.686796 75.737962c-10.296507 7.628748-16.97358 19.865443-16.97358 33.662681 0 23.12365 18.745946 41.87062 41.87062 41.87062 8.048303 0 15.563464-2.275833 21.944801-6.211469 0.048095 0.081864 0.093121 0.157589 0.141216 0.240477l1.173732-1.083681c3.616364-2.421142 6.828522-5.393847 9.529027-8.792247l79.766718-73.603345C929.798013 361.334535 929.798013 239.981676 855.61957 165.804257z" fill="#000000" p-id="7545">
          </path></svg>
          <a :href="`${item.location}`">{{ item.location }}</a>
        </div>
        <div class="span-col-3 realmlist_item">
          <svg t="1677476217915" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15581" width="20" height="20">
          <path d="M1019.41937 299.5C952.61937 179.9 845.01937 87.8 716.51937 40.2c-18.8-7-39.8 2.7-46.8 21.5-7 18.9 2.7 39.8 21.5 46.8C803.51937 150 897.41937 230.5 955.71937 335c6.7 11.9 19 18.7 31.8 18.7 6 0 12.1-1.5 17.7-4.6 17.7-9.8 24-32 14.2-49.6zM332.81937 108.5c18.9-7 28.5-27.9 21.5-46.8s-28-28.5-46.8-21.5C179.01937 87.8 71.41937 179.9 4.61937 299.5c-9.8 17.6-3.5 39.7 14.1 49.5 5.6 3.1 11.7 4.6 17.7 4.6 12.8 0 25.2-6.7 31.8-18.7 58.4-104.4 152.3-184.8 264.6-226.4zM512.21937 429.6c-20.1 0-36.4 16.3-36.4 36.4v127.1c0 20.1 16.3 36.4 36.4 36.4h127.1c20.1 0 36.4-16.3 36.4-36.4 0-20.1-16.3-36.4-36.4-36.4h-90.7V466c0-20.1-16.3-36.4-36.4-36.4z" fill="#000000" p-id="15582">
          </path><path d="M296.71937 241.5c-16.9 10.9-21.8 33.4-10.9 50.3s33.4 21.8 50.3 10.9c153.8-98.9 359.3-54.2 458.2 99.6 47.9 74.5 63.9 163.1 45.1 249.7-15 69.1-50.8 130.2-102.5 176.4-2.1 1.4-4.1 3-5.9 4.8-0.6 0.6-1.1 1.2-1.6 1.8-10.9 9.2-22.4 17.7-34.6 25.5-74.5 47.9-163.1 63.9-249.7 45.1-86.5-18.8-160.6-70.2-208.5-144.7-73.6-114.5-70.3-260.2 8.5-371.2 11.6-16.4 7.8-39.1-8.6-50.8-16.4-11.6-39.1-7.8-50.8 8.6-96.1 135.4-100.1 313.1-10.4 452.8 12.9 20.1 27.4 38.8 43.3 56.1l-63.5 63.5c-14.2 14.2-14.2 37.3 0 51.5 7.1 7.1 16.4 10.7 25.7 10.7s18.6-3.6 25.8-10.7l66-66.1c45.9 34.5 99.1 58.9 156.9 71.5 28.8 6.3 57.8 9.4 86.7 9.4 76.7 0 151.9-21.9 217.9-64.4 6.9-4.4 13.6-9 20.1-13.8l63.4 63.4c7.1 7.1 16.4 10.7 25.7 10.7s18.6-3.6 25.7-10.7c14.2-14.2 14.2-37.3 0-51.5l-60-60c50.4-53 85.5-119 101.5-192.3 22.9-105.5 3.4-213.7-55-304.5C735.01937 175.3 484.31937 120.9 296.71937 241.5z" fill="#000000" p-id="15583">
          </path></svg>
          <span>{{ item.time }}</span>
        </div>
        <div class="span-col-4 realmlist_item"></div>
        <div>
          <!-- 状态正确 -->
          <svg @click="changestatus(item)" v-if="item.status === true" t="1677475207777" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4111" width="20" height="20">
            <path d="M512 1015.345c-277.909 0-503.198-225.29-503.198-503.198s225.287-503.196 503.198-503.196c277.907 0 503.198 225.29 503.198 503.198s-225.29 503.196-503.198 503.196zM512 71.851c-243.163 0-440.295 197.134-440.295 440.297s197.134 440.295 440.295 440.295 440.295-197.134 440.295-440.295-197.134-440.297-440.295-440.297zM713.042 337.108c8.681-15.049 3.543-34.274-11.506-42.957s-34.274-3.543-42.957 11.506l-201.147 348.361-112.531-103.77c-11.856-12.674-31.756-13.329-44.45-1.453-12.676 11.876-13.308 31.778-1.432 44.452l143.776 132.617c11.876 12.674 31.778 13.308 44.452 1.432 3.825-3.582 225.793-390.19 225.793-390.19z" fill="#3CDA72" p-id="4112">  
            </path></svg>
          <!-- 状态错误 -->
          <svg @click="changestatus(item)" v-else t="1677475358125" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5243" width="20" height="20">
            <path d="M512 128c212 0 384 172 384 384s-172 384-384 384-384-172-384-384 172-384 384-384m0-64C264.8 64 64 264.8 64 512s200.8 448 448 448 448-200.8 448-448S759.2 64 512 64z m238.4 254.4l-45.6-45.6L512 467.2 318.4 273.6l-45.6 45.6L467.2 512 273.6 705.6l45.6 45.6L512 557.6l193.6 193.6 45.6-45.6L557.6 512l192.8-193.6z" p-id="5244" fill="#F40606">
            </path></svg>
        </div>
        <div class="svg">
          <svg @click="deleterealm()" t="1677475434506" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6493" id="mx_n_1677475434509" width="20" height="20">
            <path d="M607.897867 768.043004c-17.717453 0-31.994625-14.277171-31.994625-31.994625L575.903242 383.935495c0-17.717453 14.277171-31.994625 31.994625-31.994625s31.994625 14.277171 31.994625 31.994625l0 351.94087C639.892491 753.593818 625.61532 768.043004 607.897867 768.043004z" fill="#F40606" p-id="6494">
            </path><path d="M415.930119 768.043004c-17.717453 0-31.994625-14.277171-31.994625-31.994625L383.935495 383.935495c0-17.717453 14.277171-31.994625 31.994625-31.994625 17.717453 0 31.994625 14.277171 31.994625 31.994625l0 351.94087C447.924744 753.593818 433.647573 768.043004 415.930119 768.043004z" fill="#F40606" p-id="6495">
            </path><path d="M928.016126 223.962372l-159.973123 0L768.043004 159.973123c0-52.980346-42.659499-95.983874-95.295817-95.983874L351.94087 63.989249c-52.980346 0-95.983874 43.003528-95.983874 95.983874l0 63.989249-159.973123 0c-17.717453 0-31.994625 14.277171-31.994625 31.994625s14.277171 31.994625 31.994625 31.994625l832.032253 0c17.717453 0 31.994625-14.277171 31.994625-31.994625S945.73358 223.962372 928.016126 223.962372zM319.946246 159.973123c0-17.545439 14.449185-31.994625 31.994625-31.994625l320.806316 0c17.545439 0 31.306568 14.105157 31.306568 31.994625l0 63.989249L319.946246 223.962372 319.946246 159.973123 319.946246 159.973123z" fill="#F40606" p-id="6496">
            </path><path d="M736.048379 960.010751 288.123635 960.010751c-52.980346 0-95.983874-43.003528-95.983874-95.983874L192.139761 383.591466c0-17.717453 14.277171-31.994625 31.994625-31.994625s31.994625 14.277171 31.994625 31.994625l0 480.435411c0 17.717453 14.449185 31.994625 31.994625 31.994625l448.096758 0c17.717453 0 31.994625-14.277171 31.994625-31.994625L768.215018 384.795565c0-17.717453 14.277171-31.994625 31.994625-31.994625s31.994625 14.277171 31.994625 31.994625l0 479.231312C832.032253 916.835209 789.028725 960.010751 736.048379 960.010751z" fill="#F40606" p-id="6497">
            </path></svg>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import Search from "@/components/Search.vue"
import { fether } from "@/utils/fether"
import { reactive } from "vue"
import { useStore } from "vuex"
import Cookies from 'js-cookie'
const $store = new useStore()

// 域名管理数据
const realmdata = reactive([])

// 获取域名列表
const getrealm = async () => {
  //开启加载loading
  await $store.dispatch("NoticifyActions", true);
  let result = await fether(
    // `/applyprize/?token=${Cookies.get('token')}`
  )
  if (result.code === 200) {
    // realmdata.push(...result.data)
  } else {
    //请求发送错误
    await $store.dispatch("refreshErroActions");
    await $store.dispatch("GlobalMessageActions", "操作失败,请刷新");
  }
  //关闭加载loading
  $store.commit("noticifyLoading", false);
}
// getrealm()

// 新增域名数据
const addrealm = async () => {
  //开启加载loading
  await $store.dispatch("NoticifyActions", true);
  let result = await fether(
    // `/applyprize/?token=${Cookies.get('token')}`
  )
  if (result.code === 200) {
    // realmdata.push(...result.data)
  } else {
    //请求发送错误
    await $store.dispatch("refreshErroActions");
    await $store.dispatch("GlobalMessageActions", "操作失败,请刷新");
  }
  //关闭加载loading
  $store.commit("noticifyLoading", false);
}

// 状态改变
const changestatus = async () => {
  //开启加载loading
  await $store.dispatch("NoticifyActions", true);
  let result = await fether(`//`, `put`, {

  })
  await $store.dispatch("GlobalMessageActions", result.msg);
  // 关闭加载loading
  $store.commit("noticifyLoading", false);
}

// 删除域名列表数据
const deleterealm = async () => {
  //开启加载loading
  await $store.dispatch("NoticifyActions", true);
  let result = await fether(`//`, `delete`, {

  })
  await $store.dispatch("GlobalMessageActions", result.msg);
  // 关闭加载loading
  $store.commit("noticifyLoading", false);
}
</script>

<style lang="scss" scoped>
.home {
  width: calc(100vw - 250px - 40px);
  height: calc(100vh - 40px);
  font-size: 20px;
  padding: 20px;
}
.home_title {
  font-size: 20px;
  font-weight: bold;
  margin: 20px 0px;
  cursor: pointer;
  user-select: none;
}
.addrealm{
  display: flex;
  justify-content: flex-end;
}
.addrealm,.svg{
  svg{
    cursor: pointer;
  }
}
.realmlist{
  height: calc(100vh - 178px);
  overflow-y: scroll;
  margin-top: 10px;
}
.realmlist::-webkit-scrollbar {
  display: none;
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

.grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  margin-top: 10px;
  color: #000;
  grid-template-rows: 40px;
  font-size: 15px;
  background-color: #FFFFFF;
  border-radius: 5px;
  border: 1px solid #D9D9D9;
  place-items: center;
}

a,span{
  margin-left: 10px;
}
.span-col-2{grid-column: span 2 / auto;}

.span-col-3{grid-column: span 3 / auto;}

.span-col-4{grid-column: span 4 / auto;}
.realmlist_item{
  display: flex;
  justify-content: center;
  align-items: center;
}
</style>
